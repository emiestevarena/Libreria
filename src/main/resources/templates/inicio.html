<!DOCTYPE html>
<html  xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="es">
    <head>
        <title>Bienvenido! - Libreria Egg</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link rel="stylesheet" href="/css/styles.css"/>  
    </head>
    <body>
        <header>
            <h1>Bienvenido</h1>
            <h2 th:if="${session.clientesession!=null}" th:text="${session.clientesession.nombre + ' ' + session.clientesession.apellido}">
            </h2>
            <a href="/logout">Logout</a>
        </header>
        <nav>
            <div>
                <h2>Tomar Prestado</h2>
                <form action="/prestamo" method="POST">
                    <label>Libros</label>
                    <select multiple="3" name="librosOK">
                            <option th:each="libro : ${libros}" th:value="${libro.id}">
                                <span th:text="${libro.title}">
                                    <span> de 
                                        <span th:each="autor : ${libro.autores}">
                                            <span th:text="${autor.nombre}"></span>
                                        </span>
                                    </span>
                                </span>
                            </option>
                    </select>
                    <label>Fecha de devolución</label>
                    <input name="devolucion" type="date" value="2017-06-01">
                    <button type="submit">¡Listo!</button>
                </form>
            </div>
            <div>
                <h2>Extensiones</h2>
                <form class="inicio-form" action="/extension" method="POST">
                    <select>
                        <option th:each="prestamo :${prestamos}" th:value="${prestamo.id}">
                            <span>Clientes: </span>
                            <span th:each="cliente : ${prestamo.clientes}">
                                <span th:text="${cliente.username}"></span>
                            </span>
                            <span>Libros: </span>
                            <span th:each="libro : ${prestamo.libros}">
                                <span th:text="${libro.title}"></span>
                                <span> de </span>
                                <span th:each="autor : ${libro.autores}">
                                    <span th:text="${autor.nombre}"></span>
                                </span>
                            </span>
                            <span>Entrega: </span>
                            <span th:text="${prestamo.entrega}" value="yyyy-mm-dd"></span>
                            <span>Devolución: </span>
                            <span th:text="${prestamo.devolucion}" value="yyyy-mm-dd"></span>
                            <span> Multa: </span>
                            <span th:text="'$'+${prestamo.multa}"></span>
                        </option>
                    </select>
                    <label>Fecha de devolución</label>
                    <input name="devolucion" type="date" value="2017-06-01">
                    <button type="submit">¡Listo!</button>
                </form>    
            </div>
            <div>
                <h2>Devoluciones</h2>
                <form class="inicio-form" action="/devoluciones" method="POST">
                    <select>
                        <option th:each="prestamo :${prestamos}" th:value="${prestamo.id}">
                            <span>Clientes: </span>
                            <span th:each="cliente : ${prestamo.clientes}">
                                <span th:text="${cliente.username}"></span>
                            </span>
                            <span>Libros: </span>
                            <span th:each="libro : ${prestamo.libros}">
                                <span th:text="${libro.title}"></span>
                                <span> de </span>
                                <span th:each="autor : ${libro.autores}">
                                    <span th:text="${autor.nombre}"></span>
                                </span>
                            </span>
                            <span>Entrega: </span>
                            <span th:text="${prestamo.entrega}" value="yyyy-mm-dd"></span>
                            <span>Devolución: </span>
                            <span th:text="${prestamo.devolucion}" value="yyyy-mm-dd"></span>
                            <span> Multa: </span>
                            <span th:text="'$'+${prestamo.multa}"></span>
                        </option>
                    </select>
                    <p></p>
                    <button type="submit">¡Listo!</button>
                </form>
            </div>
        </nav>
        <footer>
            <h3>Tu librería digital</h3>
            <h2>¡Una lectura apasionante te está esperando!</h2>
        </footer>
    </body>
</html>
